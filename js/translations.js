const translations = {
    en: {
        "nav_home": "Home",
        "nav_tours": "Tours",
        "nav_rentals": "Rentals",
        "nav_about": "About",
        "nav_laos": "Laos",
        "nav_support": "Support",
        "nav_contact": "Contact",
        "hero_title": "Discover Laos with a Smile",
        "hero_subtitle": "Experience authentic culture, breathtaking nature, and soulful adventures guided by local experts.",
        "hero_btn": "Explore Experiences",
        "laos_hero_title": "Authentic Laos",
        "laos_hero_subtitle": "A Journey into the Heart of Southeast Asia",
        "section_tours_title": "Our Most Loved Experiences",
        "view_details": "Discover More",
        "view_package_details": "View Package Details",
        "support_title": "Customer Support Center",
        "support_subtitle": "We're here to help you every step of the way. Reach out through any of our support channels for immediate assistance.",
        "whatsapp_support": "WhatsApp Support",
        "email_support": "Email Support",
        "hotline_support": "24/7 Hotline",
        "chat_now": "Chat Now",
        "faq_title": "Frequently Asked Questions",
        "get_in_touch": "Get In Touch",
        "contact_info": "Contact Information",
        "footer_about": "Your trusted local partner for authentic adventures. We share the heart and soul of Laos with every smile.",
        "quick_links": "Quick Links",
        "all_rights_reserved": "All rights reserved.",
        "phone": "Phone",
        "email": "Email",
        "location": "Location",
        "your_name": "Your Name",
        "your_email": "Your Email",
        "message": "Message",
        "send_message": "Send Message",
        "search_tickets": "Search Rentals",
        "book_now": "Rent Now",
        "tours_title": "Soulful Adventures in Luang Prabang",
        "tours_subtitle": "Immerse yourself in the spiritual and natural beauty of Luang Prabang. Our curated tours are designed to create lasting memories.",
        "rentals_title": "Car & Motorbike Rental",
        "book_your_rental": "Book Your Rental",
        "form_instruction": "Fill out the form below to book your rental. We will contact you to confirm the details and payment.",
        "travel_date": "Rental Date",
        "guests": "Number of Days",
        "selected_ticket": "Selected Vehicle",
        "full_name": "Full Name",
        "email_address": "Email Address",
        "phone_number": "WhatsApp / Phone",
        "special_requests": "Special Requests / Notes",
        "request_booking": "Request Booking",
        "inquire_now": "Inquire Now",
        "chat_to_book": "Chat to Book"
    },
    lo: {
        "nav_home": "ໜ້າທຳອິດ",
        "nav_tours": "ການທ່ອງທ່ຽວ",
        "nav_rentals": "ການເຊົ່າລົດ",
        "nav_about": "ກ່ຽວກັບ",
        "nav_laos": "ກ່ຽວກັບລາວ",
        "nav_support": "ຊ່ວຍເຫຼືອ",
        "nav_contact": "ຕິດຕໍ່",
        "hero_title": "ຄົ້ນພົບຄວາມງາມທີ່ແທ້ຈິງຂອງຫຼວງພະບາງ",
        "hero_subtitle": "ສຳຜັດກັບວັດທະນະທຳທີ່ດີງາມ, ທຳມະຊາດທີ່ສວຍງາມ ແລະ ການຜະຈົນໄພທີ່ບໍ່ສາມາດລືມໄດ້ກັບທີມງານທ້ອງຖິ່ນ.",
        "hero_btn": "ສຳຫຼວດທົວ",
        "laos_hero_title": "ຄົ້ນພົບປະເທດລາວ",
        "laos_hero_subtitle": "ອັນຍະມະນີແຫ່ງອາຊີຕາເວັນອອກສ່ຽງໃຕ້",
        "section_tours_title": "ທົວທີ່ໜ້າສົນໃຈ",
        "view_details": "ເບິ່ງລາຍລະອຽດ",
        "view_package_details": "ເບິ່ງລາຍລະອຽດແພັກເກດ",
        "support_title": "ສູນຊ່ວຍເຫຼືອລູກຄ້າ",
        "support_subtitle": "ພວກເຮົາພ້ອມທີ່ຈະຊ່ວຍເຫຼືອທ່ານໃນທຸກໆຂັ້ນຕອນ. ຕິດຕໍ່ພວກເຮົາຜ່ານຊ່ອງທາງຕ່າງໆເພື່ອຮັບການຊ່ວຍເຫຼືອທັນທີ.",
        "whatsapp_support": "ຊ່ວຍເຫຼືອຜ່ານ WhatsApp",
        "email_support": "ຊ່ວຍເຫຼືອຜ່ານ Email",
        "hotline_support": "ສາຍດ່ວນ 24/7",
        "chat_now": "ສົນທະນາຕອນນີ້",
        "faq_title": "ຄຳຖາມທີ່ພົບເລື້ອຍ",
        "get_in_touch": "ຕິດຕໍ່ພວກເຮົາ",
        "contact_info": "ຂໍ້ມູນການຕິດຕໍ່",
        "footer_about": "ຄູ່ຮ່ວມງານທ້ອງຖິ່ນທີ່ທ່ານໄວ້ວາງໃຈ ສຳລັບການຜະຈົນໄພທີ່ບໍ່ມີວັນລືມ.",
        "quick_links": "ລິ້ງດ່ວນ",
        "all_rights_reserved": "ສະຫງວນລິຂະສິດ.",
        "phone": "ເບີໂທລະສັບ",
        "email": "ອີເມວ",
        "location": "ສະຖານທີ່",
        "your_name": "ຊື່ຂອງທ່ານ",
        "your_email": "ອີເມວຂອງທ່ານ",
        "message": "ຂໍ້ຄວາມ",
        "send_message": "ສົ່ງຂໍ້ຄວາມ",
        "search_tickets": "ຄົ້ນຫາການເຊົ່າ",
        "book_now": "ຈອງຕອນນີ້",
        "tours_title": "ທົວຜະຈົນໄພໃນຫຼວງພະບາງ",
        "tours_subtitle": "ສຳຫຼວດຄວາມມຫັດສະຈັນຂອງຫຼວງພະບາງດ້ວຍທົວຜະຈົນໄພທີ່ພວກເຮົາຄັດສັນມາຢ່າງດີ. ຕັ້ງແຕ່ວັດວາອາຮາມທີ່ສັກສິດ ຈົນເຖິງປະສົບການກາງແຈ້ງທີ່ຕື່ນເຕັ້ນ.",
        "rentals_title": "ການເຊົ່າລົດໃຫຍ່ ແລະ ລົດຈັກ",
        "book_your_rental": "ຈອງການເຊົ່າຂອງທ່ານ",
        "form_instruction": "ກະລຸນາຕື່ມຂໍ້ມູນລຸ່ມນີ້ເພື່ອຈອງການເຊົ່າ. ພວກເຮົາຈະຕິດຕໍ່ຫາທ່ານເພື່ອຢືນຢັນລາຍລະອຽດ ແລະ ການຊຳລະເງິນ.",
        "travel_date": "ວັນທີເຊົ່າ",
        "guests": "ຈຳນວນມື້",
        "selected_ticket": "ລົດທີ່ເລືອກ",
        "full_name": "ຊື່ເຕັມ",
        "email_address": "ທີ່ຢູ່ອີເມວ",
        "phone_number": "WhatsApp / ເບີໂທ",
        "special_requests": "ຄຳຮ້ອງຂໍເພີ່ມເຕີມ / ໝາຍເຫດ",
        "request_booking": "ຮ້ອງຂໍການຈອງ",
        "inquire_now": "ສອບຖາມຕອນນີ້",
        "chat_to_book": "ສົນທະນາເພື່ອຈອງ"
    }
};

function setLanguage(lang) {
    localStorage.setItem('preferredLanguage', lang);
    document.documentElement.setAttribute('lang', lang);
    applyTranslations(lang);
    updateToggleUI(lang);
}

function applyTranslations(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                el.placeholder = translations[lang][key];
            } else {
                el.textContent = translations[lang][key];
            }
        }
    });

    // Handle Body Classes for Language-Specific Styling
    document.body.classList.remove('lao-font');
    if (lang === 'lo') {
        document.body.classList.add('lao-font');
    }
}

function updateToggleUI(lang) {
    const btns = {
        'en': document.getElementById('lang-en'),
        'lo': document.getElementById('lang-lo')
    };

    // Clear all active classes
    Object.values(btns).forEach(btn => {
        if (btn) btn.classList.remove('active');
    });

    // Add active class to current lang button
    if (btns[lang]) {
        btns[lang].classList.add('active');
    }
}

function initLanguage() {
    const savedLang = localStorage.getItem('preferredLanguage') || 'en';
    setLanguage(savedLang);
}

document.addEventListener('DOMContentLoaded', () => {
    initLanguage();

    const langSelectors = [
        { id: 'lang-en', lang: 'en' },
        { id: 'lang-lo', lang: 'lo' }
    ];

    langSelectors.forEach(selector => {
        const btn = document.getElementById(selector.id);
        if (btn) {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                setLanguage(selector.lang);
            });
        }
    });
});
